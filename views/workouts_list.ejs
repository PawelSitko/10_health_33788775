<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Your Workouts â€“ Health Tracker</title>
    <link rel="stylesheet" href="/style.css">
  </head>

  <body>
    <main class="page">
      <section class="card">
        <header class="card-header">
          <h1>Your workouts</h1>

          <nav class="nav-links">
            <a href="/">ğŸ  Home</a>
            <a href="/users/login">ğŸ”‘ Login</a>
            <a href="/users/register">ğŸ“ Register</a>
            <a href="/workouts/list">ğŸ¶ Workouts</a>
          </nav>
        </header>

        <section class="card-body">
          <% if (user) { %>
            <p>Logged in as <strong><%= user.username %></strong>.</p>
          <% } else { %>
            <p>You are not logged in.</p>
          <% } %>

          <div class="actions-row">
            <a class="btn" href="/workouts/add">â• Add workout</a>
            <a class="btn secondary" href="/workouts/search">ğŸ” Search workouts</a>
          </div>

          <% if (error) { %>
            <p class="error"><%= error %></p>
          <% } %>

          <% if (workouts && workouts.length > 0) { %>
            <table class="workouts-table">
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Activity</th>
                  <th>Duration</th>
                  <th>Intensity</th>
                  <th>Notes</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <% workouts.forEach(function(w) { %>
                  <tr>
                    <td><%= w.date ? w.date.toISOString ? w.date.toISOString().slice(0,10) : w.date : '' %></td>
                    <td><%= w.activity || '' %></td>
                    <td><%= w.duration || '' %></td>
                    <td><%= w.intensity || '' %></td>
                    <td><%= w.notes || '' %></td>
                    <td>
                      <a href="/workouts/edit/<%= w.id %>">Edit</a>
                    </td>
                  </tr>
                <% }) %>
              </tbody>
            </table>
          <% } else { %>
            <p>You donâ€™t have any workouts yet.</p>
          <% } %>
        </section>
      </section>
    </main>
  </body>
</html>
