<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Edit workout â€“ Health Tracker</title>
    <link rel="stylesheet" href="/style.css">
  </head>

  <body>
    <main class="page">
      <section class="card">
        <header class="card-header">
          <h1>Edit workout</h1>

          <nav class="nav-links">
            <a href="/">ğŸ  Home</a>
            <a href="/users/login">ğŸ”‘ Login</a>
            <a href="/users/register">ğŸ“ Register</a>
            <a href="/workouts/list">ğŸ¶ Workouts</a>
          </nav>
        </header>

        <section class="card-body">
          <% if (error) { %>
            <p class="error"><%= error %></p>
          <% } %>

          <% if (!workout) { %>
            <p>Workout not found.</p>
          <% } else { %>
            <form method="POST" action="/workouts/edit/<%= workout.id %>">
              <div class="form-row">
                <label>Date</label>
                <input
                  type="date"
                  name="date"
                  value="<%= workout.date ? (workout.date.toISOString ? workout.date.toISOString().slice(0,10) : workout.date) : '' %>"
                  required
                />
              </div>

              <div class="form-row">
                <label>Activity</label>
                <input
                  type="text"
                  name="activity"
                  value="<%= workout.activity || '' %>"
                  required
                />
              </div>

              <div class="form-row">
                <label>Duration (minutes)</label>
                <input
                  type="number"
                  name="duration"
                  min="1"
                  value="<%= workout.duration || '' %>"
                  required
                />
              </div>

              <div class="form-row">
                <label>Intensity</label>
                <input
                  type="text"
                  name="intensity"
                  value="<%= workout.intensity || '' %>"
                />
              </div>

              <div class="form-row">
                <label>Notes</label>
                <textarea
                  name="notes"
                  rows="3"
                ><%= workout.notes || '' %></textarea>
              </div>

              <button type="submit" class="btn">Update workout</button>
            </form>
          <% } %>
        </section>
      </section>
    </main>
  </body>
</html>
